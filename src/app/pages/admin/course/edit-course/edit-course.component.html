<main>
  <div class="header">
    <div class="back-arrow" (click)="goBack()">
      <i class="fa fa-arrow-left"></i>
    </div>
    <h1>Modifier le cours</h1>
  </div>
  <form [formGroup]="courseForm" (ngSubmit)="submitForm()">
    <fieldset>
      <label for="name">Nom</label>
      <input
        type="text"
        id="name"
        formControlName="name"
        minlength="2"
        maxlength="100"
      />
      <div
        *ngIf="
        courseForm.get('name')?.invalid && courseForm.get('name')?.touched
        "
      >
        <small *ngIf="courseForm.get('name')?.errors?.['required']"
          >Le nom du programme est requis.</small
        >
        <small *ngIf="courseForm.get('name')?.errors?.['minlength']"
          >Le nom du programme doit contenir au moins 2 caractères.</small
        >
        <small *ngIf="courseForm.get('name')?.errors?.['maxlength']"
          >Le nom du programme ne doit pas dépasser 100 caractères.</small
        >
      </div>
    </fieldset>

    <fieldset>
      <label for="description">Description</label>
      <textarea id="description" formControlName="description"></textarea>
      <div
        *ngIf="
          courseForm.get('description')?.invalid &&
          courseForm.get('description')?.touched
        "
      >
        <small *ngIf="courseForm.get('description')?.errors?.['required']"
          >La description est requise.</small
        >
        <small *ngIf="courseForm.get('description')?.errors?.['minlength']"
          >La description doit contenir au moins 3 caractères.</small
        >
        <small *ngIf="courseForm.get('description')?.errors?.['maxlength']"
          >La description ne doit pas dépasser 255 caractères.</small
        >
      </div>
    </fieldset>

    <button type="submit" [disabled]="courseForm.invalid">
      Mettre à jour le programme
    </button>
  </form>
</main>
